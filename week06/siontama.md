## Chapter 11. 클러스터 정책과 거버넌스

11.1 정책과 거버넌스의 중요성

현재 Backend.AI의 control plane을 k8s위에서 돌리는것을 테스트중인데, 각 컴포넌트가 k8s에서 돌아가도록만 하는것이 아니라 실제 고객사에 도입하기 위해선, 고객사의 k8s 클러스터에서 Backend.AI를 안전하게 사용 할 수 있는 정책 설정같은 것들도 미리 만들어야 할 것 같다.

11.2 정책의 변별성

11.3 클라우드 네이트브 정책 엔진

OPA - 개방형 정책 에이전트

11.4 게이트키퍼 요약

contraint - 제약조건을 설정하는것 이기때문에 기본적으로 설정하지 않으면 모든것을 허용한다.

Rego - OPA의 네이티브 쿼리 언어

11.5 집행 액션과 감사 적용

deny - 위배된 리소스 생성 X, 감사 로그에 남기고 유저에게 보냄
warn - 생성은 됨
dryrun - 리소스 생성, 유저에게 안 보내며 정책에 위배된 리소스는 감사 로그에서 확인

11.6 정책과 거버넌스 모범 사례

이미 배포된 리소스가 있는 경우에는 deny로 설정하지말고 warn이나 dryrun으로 설정하고 위배된 리소스들을 수정하는 방식으로 반영

## Chapter 12. 멀티클러스터 관리

12.1 멀티클러스터의 필요성

플랫폼레이어에 문제가 생기는 경우는 어떤 상황들이 있을까?
보안적으로 클러스터 분리가 필요한 경우도 존재

특수워크로드에서도 클러스터 분리가 필요하므로 Backend.AI의 agent도 k8s로 통합된다고 할때는 별도의 클러스터가 구축이 필요하 것으로 생각됨

12.2 멀티클러스터 설계 문제

12.3 멀티클러스터 배포 관리

멀티클러스터는 자동화하여 재현가능하도록 만드는것이 중요함

12.4 배포와 관리 패턴

오퍼레이터패턴을 이용하여 k8s api를 확장하여 여러도구를 사용가능
운영태스크를 자동화

12.5 깃옵스로 클러스터를 관리하는 방식

12.6 멀티클러스터 관리 툴

랜처, OCM, 가드너

12.7 쿠버네티스 페더레이션

12.8 멀티클러스터 관리 모범 사례

## Chapter 13. 외부 서비스와 쿠버네티스 통합

13.1 쿠버네티스로 서비스 임포트

쿠버네티스 가상 네트워크를 온프렘 네트워크로 피어링 할 수 있다

셀렉트리스 서비스, cname기반, 액티브 컨트롤러 방식

13.2 쿠버네티스에서 서비스 익스포트

내부 로드 밸런서, NodePort, 외부 서버와 통합

13.3 쿠버네티스 간 서비스 공유

자동화 방식

13.4 서드파티 툴

서비스 메시 기술을 신중하게 검토해보자

13.5 클러스터와 외부 서비스 연결 모범 사례

## Chapter 5. 지속적 통합, 테스팅, 배포

5.1 버전 관리

5.2 지속적 통합

5.3 테스팅

엔드투엔드테스트는 개발자뿐만아니라 데브옵스엔지니어도 같이 협력해 ci 워크플로우를 잘구축해야한다

5.4 컨테이너 빌드

컨테이너 이미지를 최적화하기위해 멀티스테이지빌드, 무배포베이스이미지, 최적화된 베이스이미지 등을 활용

5.5 컨테이너 이미지 태깅

5.6 지속적 배포

CD에 신경을 쓰기전에 CI 부터 제대로 완벽하게 만드는것을!

5.7 배포 전략

k8s의 기본 롤아웃 방식은 롤링업데이트
롤링업데이트는 두버전이 한 db를 바라봐야하기때문에 데이터베이스 호환이 가능해야함

블루그린배포는 데이터베이스 마이그레이션이 까다로워질수있음.
이부분을 실제로 어떻게 해야하지…

5.8 프로덕션 테스팅

카오스엔지니어링을 수행하는이유는 프러덕션과 스테이징은 리소스가 다르고 유저행위와 트래픽이 복합적으로 일어날때 발생하는 문제가 많기때문. 또한 프러덕션 환경이 모니터링이 훨씬 탄탄하게 구축되어있기 때문에

5.9 파이프라인 구축과 카오스 실험

카오스 엔지니어링용 도구
- gremlin
- powerfulseal
- chaos toolkit
- kubemonkey

5.10 CI/CD 모범 사례

ci는 자동화와 ‘신속한 빌드’가 중요. 빌드 속도가 빠르면 피드백이 빠르게 가능.

## Chapter 6. 버저닝, 릴리스, 롤아웃

6.1 버저닝

6.2 릴리스

6.3 롤아웃

6.4 종합 예제

6.5 모범 사례

시맨틱 버저닝을 적용하여 호환성을 보장
릴리즈 네이밍규칙을 stable, canary, alpha 정도로 만들어 정한다.
함께 롤백하거나 업그레이드 해야 할 서비스는 한 헬름차트로 만들어 한번에 롤백 할 수 있도록 해야한다.

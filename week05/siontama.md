## Chapter 9. 네트워킹, 네트워크 보안, 서비스 메시

9.1 쿠버네티스 네트워킹 원리

파드 간 통신은 나트없이 되어야함. 즉 발신자의 실제 IP가 그대로 표시됨
동일 파드 내 컨테이너들은 같은 네트워크 네임스페이스를 공유하고 localhost로 통신
서비스는 클러스터 내 안정적인 IP와 포트를 제공하고, 파드와 매핑

9.2 네트워크 플러그인

kubenet은 바로 사용 가능한 가장 기본적이고 단순한 네트워크 플러그인
파드를 연결할 가상 이더넷 쌍인 리눅스 브릿지 cbr0를 제공

9.3 쿠버네티스 서비스

파드가 제공하는 서비스에 바로 액세스하는 것은 효율적이지 않음
서비스 API를 통해 쉽게 변하지 않는 IP와 포트를 할당

ingress와 ingress controller는 HTTP 수준의 라우터

TLS 및 디폴트 백엔드의 세부 구성은 ingress controller가 처리. Ingress API와 분리되어 있으며, 취향에 맞게 Nginx, Traefik, HAProxy 등의 컨트롤러를 활성화

9.4 네트워크 보안 정책

9.5 네트워크 정책 모범 사례

calico, cilium, kube-router, romana, Weave Net 등 다양한 네트워크 플러그인

9.6 서비스 메시

서비스 메시는 수백 개 서비스와 수천 엔드포인트가 통신하는 환경에서 트래픽 제어·보호·관찰을 단순화하는 기술

9.7 서비스 메시 모범 사례

현재 사내에서도 docker swarm의 network overlay를 제거하기위해 서비스메시를 도입하려고 검토중
istio는 k8s에 강결합되어있어서 사용 할 수 없었고, cilium이 벤치마크시 가장 속도가 좋아 선택하였으나 cilium도 k8s가 아닌 환경에서 사용하기 쉽지 않아 calico도 테스트중

## Chapter 10. 파드와 컨테이너 보안

10.1 파드 시큐리티 어드미션 컨트롤러

파드 시큐리티 어드미션 컨트롤러는 클러스터 관리자가 간단하게 파드 보안 설정 가능
복잡도는 낮지만 namespace 수준에서만 permission 적용 가능

네임스페이스 레이블을 이용한 파드 시큐리티 활성화는 namespace label에 yaml을 추가해서 namespace별로 파드 시큐리티 활성화

10.2 워크로드 격리와 런타임클래스

gpu를 사용할때 nvidia-container-runtime을 사용하고있는데 무슨차이가 있는지 확인해봐야겠음

10.3 파드와 컨테이너 보안 관련 고려 사항
